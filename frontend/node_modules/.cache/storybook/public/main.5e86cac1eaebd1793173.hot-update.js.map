{"version":3,"file":"main.5e86cac1eaebd1793173.hot-update.js","sources":["webpack:///./stories/organisms/Editor/index.jsx"],"sourcesContent":["import React, {\n  useState, useCallback, useEffect,\n} from 'react'\n\nimport { useEditor, EditorContent } from '@tiptap/react'\nimport StarterKit from '@tiptap/starter-kit'\n\nimport MenuBar from './MenuBar'\nimport './styles.scss'\n\nconst colors = ['#958DF1', '#F98181', '#FBBC88', '#FAF594', '#70CFF8', '#94FADB', '#B9F18D']\nconst rooms = ['rooms.10', 'rooms.11', 'rooms.12']\nconst names = [\n  'Lea Thompson',\n  'Cyndi Lauper',\n  'Tom Cruise',\n  'Madonna',\n  'Jerry Hall',\n  'Joan Collins',\n  'Winona Ryder',\n  'Christina Applegate',\n  'Alyssa Milano',\n  'Molly Ringwald',\n  'Ally Sheedy',\n  'Debbie Harry',\n  'Olivia Newton-John',\n  'Elton John',\n  'Michael J. Fox',\n  'Axl Rose',\n  'Emilio Estevez',\n  'Ralph Macchio',\n  'Rob Lowe',\n  'Jennifer Grey',\n  'Mickey Rourke',\n  'John Cusack',\n  'Matthew Broderick',\n  'Justine Bateman',\n  'Lisa Bonet',\n]\n\nconst getRandomElement = list => list[Math.floor(Math.random() * list.length)]\n\nconst getRandomRoom = () => getRandomElement(rooms)\n\n\nconst room = getRandomRoom()\n\n\nexport default () => {\n\n  const editor = useEditor({\n    extensions: [\n      StarterKit.configure({\n        history: false,\n      }),\n      \n    ],\n  })\n\n  \n  // Save current user to localStorage and emit to editor\n  useEffect(() => {\n    if (editor && currentUser) {\n      localStorage.setItem('currentUser', JSON.stringify(currentUser))\n      editor.chain().focus().updateUser(currentUser).run()\n    }\n  }, [editor, currentUser])\n\n\n  return (\n    <div className=\"editor\">\n      {editor && <MenuBar editor={editor} />}\n      <EditorContent className=\"editor__content\" editor={editor} />\n      <div className=\"editor__footer\">\n          <div className={`editor__status editor__status--${status}`}>\n            {status === 'connected'\n              ? `${editor.storage.collaborationCursor.users.length} user${editor.storage.collaborationCursor.users.length === 1 ? '' : 's'} online in ${room}`\n              : 'offline'}\n          </div>\n          <div className=\"editor__name\">\n            <button onClick={setName}>{currentUser.name}</button>\n          </div>\n        </div>\n    </div>\n  )\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AAIA;AACA;AAEA;AACA;;;AAEA;AACA;AACA;AACA;AA2BA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAGA;AAEA;AACA;AAEA;AADA;AAFA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAKA;AAAA;AACA;AAAA;AAAA;AADA;AANA;AAHA;AAeA;;;;A","sourceRoot":""}